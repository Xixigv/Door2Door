<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat App</title>
    <link rel="stylesheet" href="web/styles/chats.css">
      <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <link href="https://unpkg.com/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">

    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <header class="bg-white border-b sticky top-0 z-40">
      <div class="container mx-auto px-4 py-3">
        <div class="flex items-center justify-between">
          <!-- Logo -->
          <button onclick="window.location.href='/home'" href="/home" class="flex items-center space-x-2">
            <div class="bg-primary text-primary-foreground rounded-lg p-2">
              <span id="Logo" class="font-bold">D2D</span>
            </div>
            <span class="text-xl font-bold">Door2Door</span>
          </button>

          <div class="hidden md:flex flex-1 max-w-md mx-8">
            <div class="relative w-full">
              <i data-lucide="search"
                class="absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"></i>
              <input type="text" placeholder="Search new people to chat..."
                class="w-full pl-10 pr-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-ring" />
            </div>
          </div>

          <!-- Navigation -->
          <nav class="flex items-center space-x-4">
            <button onclick="window.location.href='/search'"
              class="inline-flex items-center px-3 py-2 text-sm font-medium rounded-md hover:bg-accent hover:text-accent-foreground">
              <i data-lucide="search" class="w-4 h-4 md:hidden"></i>
              <span class="hidden md:block">Search</span>
            </button>
          </nav>
        </div>
      </div>
    </header>
    <div class="h-screen grid grid-cols-[320px_1fr] gap-4 p-4">
        <!-- Chat List -->
        <div class="bg-gray-50 p-4 rounded-[15px]">
            <div class="mb-4">
                <h1 class="">Chats</h1>
            </div>
            <div id="chatList" class="custom-scrollbar overflow-y-auto pr-1" style="max-height: calc(100vh - 120px);">
                <!-- Chat cards will be inserted here -->
            </div>
        </div>

        <!-- Chat Window -->
        <div id="chatWindowContainer">
            <!-- Chat window will be inserted here -->
        </div>
    </div>

    <!-- Send Icon SVG Template -->
    <svg id="sendIcon" style="display: none;" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <line x1="22" y1="2" x2="11" y2="13"></line>
        <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
    </svg>

    <script src="../web/controllers/auth.js"></script>
    <script src="../web/controllers/main.js"></script>
    <script src="../web/controllers/chatPage.js"></script>
</body>
</html>